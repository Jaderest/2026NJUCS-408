# 第六章 图

## 目录
- [第六章 图](#第六章-图)
  - [目录](#目录)
- [6.1 图的概念](#61-图的概念)
    - [连通、连通图和连通分量；强连通图、强连通分量](#连通连通图和连通分量强连通图强连通分量)
    - [考点\&易错点](#考点易错点)
- [6.2 图的存储及基本应用](#62-图的存储及基本应用)
  - [6.2.1 邻接矩阵法](#621-邻接矩阵法)
  - [6.2.2 邻接表法](#622-邻接表法)
  - [6.2.3 十字链表](#623-十字链表)
  - [6.2.4 邻接多重表](#624-邻接多重表)
- [6.3 图的遍历](#63-图的遍历)
  - [6.3.1 BFS](#631-bfs)
    - [性能分析](#性能分析)
    - [BFS求解单源最短路径](#bfs求解单源最短路径)
    - [BF生成树](#bf生成树)
  - [6.3.2 DFS](#632-dfs)
    - [性能分析](#性能分析-1)
    - [深度优先生成树和生成森林](#深度优先生成树和生成森林)
  - [6.3.3 图的遍历和图的连通性](#633-图的遍历和图的连通性)
  - [概念补充](#概念补充)
  - [易错点](#易错点)

# 6.1 图的概念

### 连通、连通图和连通分量；强连通图、强连通分量

- 顶点v和顶点w连通：v到w有路径
- 图G中任意两点都是连通的，称图G为连通图，否则称非连通图
- 无向图 —— 连通性
- 有向图 —— 强连通性
- **极大/极小连通子图**
  - 极大：连通+尽可能多的顶点和边
  - 极小：连通+边数最少

### 考点&易错点

- 强连通有向图中任何顶点到其他所有顶点都有路径
  - 但未必有弧
  - 弧：两个顶点的有序对 —— 直接连边
- 有向完全图：每点到每点都有弧
- 有向图中
  - 顶点的度 = 入度 + 出度
- G中含有7个顶点，保证G在任何情况下都是连通，则需要边数最少为？
  - 16
  - 任何情况：分配边的方式，所以6个构成完全图+一条边连到第7个顶点上

# 6.2 图的存储及基本应用

## 6.2.1 邻接矩阵法

特点

- 表示方法唯一

- 无向图邻接矩阵必是对称矩阵 -> 对称矩阵的存储
- 稠密图适合邻接矩阵
- 邻接矩阵$A$，有$A^n$的元素$A^n[i][j]$表示 i 到 j 经过n条边的路径的数目

## 6.2.2 邻接表法

特点

- 对稀疏图极大节省空间
- 邻接表表示并不唯一，各边顶点链接次序任意（取决于建表算法和输入次序）

## 6.2.3 十字链表

**有向图**

两种结点

- 弧结点，5个域
  - tailvex、headvex：存放弧尾弧头顶点的编号
  - 头链域hlink：指向弧头相同的下一条弧
  - 尾链域tlink：弧尾相同的下一条弧
  - info：权值
- 顶点结点，3个域
  - data
  - firstin
  - firstout

性能

- 找入边、出边非常方便

## 6.2.4 邻接多重表

存无向图

便于插入删除

# 6.3 图的遍历

## 6.3.1 BFS

### 性能分析

- 空间复杂度：辅助队列Q；最坏情况空间复杂度$O(|V|)$
- 时间复杂度
  - 邻接表：每个顶点入队一次$O(|V|)$；每条边访问一次$O(|E|)$，得到$O(|V|+|E|)$
  - 邻接矩阵：查找每个点邻接点$O(|V|)$，总时间复杂度$O(|V|^2)$

### BFS求解单源最短路径

G = (V, E) 为**非带权图**，顶点u到v的最短路径$d(u,v)$定义为u到v任何路径中**最少边数**

- BFS求单源最短路径如下

```c
void BFS_MIN_Distance(Graph G, int u) {
    for (int i=0; i<G.vexnum; ++i) {
        d[i] = INF;
    }
    visited[u] = true;
    d[u] = 0;
    EnQueue(Q, u); // 空队列Q，将u入队
    while(!isEmpty(Q)) {
        DeQueue(Q, u);
        for (w=FirstNeighbor(G,u); w>=0; w=NextNeighbot(G,u,w)) {
            if (!visited[w]) {
                visited[w] = true;
                d[w] = d[u] + 1; // w 为 u 的一个后继
                EnQueue(Q, w);
            }
        }
    }
}
```

### BF生成树

BFS中，得到一棵遍历树

- 同一图邻接矩阵表示唯一 -> 广度优先生成树唯一
- 邻接表存储表示不唯一 -> 广度优先生成树不唯一

## 6.3.2 DFS

### 性能分析

- 空间复杂度：递归工作栈，$O(|V|)$
- 时间复杂度
  - 邻接表：$O(|V|+|E|)$
  - 邻接矩阵：$O(|V|^2)$

### 深度优先生成树和生成森林

连通图才有深度优先生成树，否则是深度优先生成森林

## 6.3.3 图的遍历和图的连通性

无向图：外部循环BFS/DFS的次数 = 图连通分量数

有向图：连通子图分为强连通分量、非强连通分量

​	非强连通分量调用BFS或DFS不一定能访问到该子图 所有顶点

## 概念补充

强连通图弱连通图——有向图中的概念

- 强连通：一点到任一点都有有向路径
- 弱连通：不是强连通 + 有向边改无向发现连通了

连通分量，连通子图——无向图中概念

- 连通子图：连通就行
- 连通分量：极大连通子图

## 易错点

- 看清无向图/有向图
- 画图画清楚，别漏边了
- 画图不一定要先把点标出来，按照有的边一个个把点描出来可能看得更清楚一些