# 第五章 中央处理器

## 目录
- [第五章 中央处理器](#第五章-中央处理器)
  - [目录](#目录)
- [5.1 CPU的功能和基本结构](#51-cpu的功能和基本结构)
  - [5.1.1 CPU的功能](#511-cpu的功能)
  - [5.1.2 CPU的基本结构](#512-cpu的基本结构)
    - [运算器](#运算器)
    - [控制器](#控制器)
  - [5.1.3 CPU的寄存器](#513-cpu的寄存器)
    - [CPU中各种寄存器的作用](#cpu中各种寄存器的作用)
  - [考点\&易错点](#考点易错点)

# 5.1 CPU的功能和基本结构

## 5.1.1 CPU的功能

- CPU的具体功能包括
  - 指令控制：取指令、分析指令、执行指令（程序的顺序控制）
  - 操作控制：产生操作信号，并将各种操作信号送到相应的部件，从而控制部件正确执行
  - 时间控制：严格控制各种操作信号的出现时间、持续时间及顺序
  - 数据加工：对数据算术、逻辑运算
  - 中断处理：异常情况&中断请求

## 5.1.2 CPU的基本结构

### 运算器

- 算数逻辑单元ALU
- 暂存器
- 累加寄存器ACC
- 通用寄存器组GPRs
- 程序状态字PSW寄存器
- 移位寄存器
- 计数器

### 控制器

- 程序计数器
- 指令寄存器
- 指令译码器
- 时序电路
- 微操作信号发生器

## 5.1.3 CPU的寄存器

- 用户可见寄存器
- 用户不可见寄存器：控制部件使用，控制CPU的操作
  - 如存储器地址寄存器、存储器数据寄存器etc.

### CPU中各种寄存器的作用

- 运算器中的寄存器
  - 通用寄存器组GPRs。用于存放操作数（源、目的操作数，中间结果）和各种地址信息如AX、BX、CX、DX、SP等等
    - 指令需指明寄存器编号才能对它进行访问
    - SP是堆栈指针，指示栈顶的地址
  - 累加寄存器ACC
  - 移位寄存器SR
  - 暂存寄存器。**对应用程序员来说是透明的**
  - 程序状态字PSW寄存器
    - 保留算术/逻辑运算指令或测试指令的运行结果
    - OF、SF、ZF、CF等等
    - 每个标志位通常由一位触发器保存
    - 组合在一起称程序状态字
- 控制器中的寄存器
  - PC
  - 指令寄存器IR，保存当前正在执行的指令，位数等于指令字长

## 考点&易错点

- 对用户透明：不需要用户进行任何的干预，用户既不用读也不用写
  - 比如指令寄存器IR
- CPU位数：CPU一次能处理的数据的位数
  - 数据总线应与处理器位数相同
- PC的位数取决于
  - 存储器的容量
  - 指令字长
  - `存储器容量/指令字长`得到最多多少条指令，然后计算PC的位数
- 通用寄存器的位数取决于机器字长，便于操作控制
- 控制器的全部功能
  - 从主存储器中取出指令，分析并产生相应的控制信号
- 指令译码：对指令的操作码字段进行译码
- **间址周期**：取操作数的有效地址